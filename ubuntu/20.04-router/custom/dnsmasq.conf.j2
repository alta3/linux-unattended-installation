# Ansible managed, please edit the playbook NOT THIS FILE!

listen-address={{ dhcp_server_ip_addr }}

# upstream config
no-resolv
server={{ public_nameserver_1 }}
server={{ public_nameserver_2 }}
domain-needed
bogus-priv
dhcp-lease-max=10000

# logging DEBUG - Uncomment to see an insane amount of dhcp messages
#log-async
#log-queries
#log-dhcp

# nothing should use this domain, it  is here because
# it is required by dhcp-fqdn as catch-all domain
domain=nofqdn

# ignore local /etc/hosts
no-hosts

# dhcp
dhcp-range={{ dhcp_range_low }},{{ dhcp_range_high }},{{ dhcp_lease_time }}
dhcp-fqdn

# default options
dhcp-option=3,{{ dhcp_gw }} 
dhcp-option=119,{{ dhcp_search_domain }}
dhcp-option=15,nofqdn


dhcp-optsdir={{ dnsmasq-optsdir }}    # DHCP Options 
dhcp-hostsdir={{ dnsmasq-hostsdir }}  # DHCP Static Leases
hostsdir={{ dnsmasq_hosts }}          # DNS name resolution, formatted like a linux host file
